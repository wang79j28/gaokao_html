{"version":3,"sources":["webpack:///./src/components/register-component/register.js"],"names":["$","ue","httpGet","response","body","xhr","type","alert","window","location","replace","on","e","Object","_common_js_audio_js__WEBPACK_IMPORTED_MODULE_5__","a","this","_common_images_laba_gif__WEBPACK_IMPORTED_MODULE_3___default","_common_images_laba_png__WEBPACK_IMPORTED_MODULE_4___default","weui_js__WEBPACK_IMPORTED_MODULE_2___default","form","validate","error","loading","userName","val","userSchool","userObject","mobile","mschName","_common_js_http_js__WEBPACK_IMPORTED_MODULE_6__","d","JSON","stringify","url","b","checkIfBlur","call","i"],"mappings":"6LAgCAA,EAAA,WAOA,IAAAC,OAzBAC,QAAA,eACA,KACA,SAAAC,GAEA,QAAAA,EAAAC,MACAD,EAAAC,MAOA,SAAAC,EAAAC,GACA,cAaAC,MAAA,MAAAN,GACAA,EACAO,OAAAC,SAAAC,QAAA,aAIAV,EAAA,cAAAW,GAAA,iBAAAC,GAEAC,OAAAC,EAAAC,EAAAF,CAAAb,EAAA,YAAAgB,KAAAC,EAAAF,EAAAG,EAAAH,KAGAf,EAAA,kBAAAW,GAAA,iBAAAC,GAEAO,EAAAJ,EAAAK,KAAAC,SAAA,qBAAAC,GACA,IAAAA,EAAA,CACAH,EAAAJ,EAAAQ,QAAA,cACAC,EAAAxB,EAAA,aAAAyB,MACAC,EAAA1B,EAAA,eAAAyB,MAGAE,GACAH,WACAI,OAJA5B,EAAA,cAAAyB,MAKAI,SAAAH,GAEAb,OAAAiB,EAAAC,EAAAlB,CAAA,QACAmB,KAAAC,UAAAN,GACA,SAAAxB,GACA,IAAA+B,EAAArB,OAAAiB,EAAAK,EAAAtB,CAAA,aACAL,OAAAC,SAAAC,QAAAwB,UAQAf,EAAAJ,EAAAK,KAAAgB,YAAA,iBAAAC,KAAArB,KAAAsB,EAAA","file":"js/register-ecd425.bundle.js","sourcesContent":["import '../common/style/app.css';\r\nimport 'weui';\r\nimport weui from 'weui.js';\r\n\r\nimport LabaGif from '../common/images/laba.gif';\r\nimport LabaPng from '../common/images/laba.png';\r\nimport audioControl from '../common/js/audio.js';\r\nimport { httpPost, getUrl } from '../common/js/http.js';\r\nimport '../common/js/oauth.js';\r\n\r\n\r\n// oauthCheck();\r\n\r\nfunction checkUserExist() {\r\n\thttpGet('/user/exists',\r\n\t\tnull,\r\n\t\tfunction (response) {\r\n\t\t\t//JSON.stringify\r\n\t\t\tif (response['body']) {\r\n\t\t\t\tvar userExist = (response['body']);\r\n\t\t\t\treturn userExist;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tfunction (xhr, type) {\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tfalse);\r\n}\r\n\r\n$(function () {\r\n\t// if (process.env.NODE_ENV !== 'production') {\r\n\t// console.log('Looks like we are in development mode!');\r\n\t// }\r\n\t// else{\r\n\t// alert('production !') \r\n\t// }\r\n\tvar ue = checkUserExist();\t\r\n\talert(\"ue:\" + ue);\r\n\tif(ue){\r\n\t\twindow.location.replace('pay.html');\r\n\t\treturn;\r\n\t}\r\n\r\n\t$('#audio_img').on('click', function (e) {\r\n\t\t// audioControl(audio, img, imgplay, imgpaused)\r\n\t\taudioControl($('audio')[0], this, LabaGif, LabaPng);\r\n\t});\r\n\r\n\t$('#formSubmitBtn').on('click', function (e) {\r\n\t\t//\r\n\t\tweui.form.validate('#reg_form', function (error) {\r\n\t\t\tif (!error) {\r\n\t\t\t\tvar loading = weui.loading('提交中...');\r\n\t\t\t\tvar userName = $('#userName').val();\r\n\t\t\t\tvar userSchool = $('#userSchool').val();\r\n\t\t\t\tvar userPhone = $('#userPhone').val();\r\n\r\n\t\t\t\tvar userObject = {\r\n\t\t\t\t\t'userName': userName,\r\n\t\t\t\t\t'mobile': userPhone,\r\n\t\t\t\t\t'mschName': userSchool\r\n\t\t\t\t};\r\n\t\t\t\thttpPost('/user',\r\n\t\t\t\t\tJSON.stringify(userObject),\r\n\t\t\t\t\tfunction (response) {\r\n\t\t\t\t\t\tvar url = getUrl('/pay.html');\r\n\t\t\t\t\t\twindow.location.replace(url);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t});\r\n\r\n\tweui.form.checkIfBlur('#reg_form');\r\n})"],"sourceRoot":""}