{"version":3,"sources":["webpack:///./src/components/code-component/code.js"],"names":["qs","queryStr","location","search","hash","substr","indexOf","args","items","length","split","item","len","i","name","decodeURIComponent","value","code","Object","_common_js_http_js__WEBPACK_IMPORTED_MODULE_0__","a","response","sessionStorage","Authorization","url","substring","$","param","window","replace","xhr","type","alert"],"mappings":"sHA0BAA,EAtBA,WACA,IAAAC,EAAAC,SAAAC,OACAF,IAEAA,GADAA,EAAAC,SAAAE,MACAC,OAAAJ,EAAAK,QAAA,OAQA,IANA,IAAAN,EAAAC,EAAAI,OAAA,GACAE,KACAC,EAAAR,EAAAS,OAAAT,EAAAU,MAAA,QACAC,EAAA,KACAC,EAAAJ,EAAAC,OAEAI,EAAA,EAAkBA,EAAAD,EAASC,IAAA,CAC3BF,EAAAH,EAAAK,GAAAH,MAAA,KACA,IAAAI,EAAAC,mBAAAJ,EAAA,IACAK,EAAAD,mBAAAJ,EAAA,IACAG,IACAP,EAAAO,GAAAE,GAGA,OAAAT,EApBA,GAwBAP,EAAAiB,MACAC,OAAAC,EAAAC,EAAAF,CAAA,oCACID,KAAAjB,EAAAiB,MACJ,SAAAI,GACAC,eAAAC,cAAAF,SACArB,EAAAiB,KACA,IAAAO,EAAAtB,SAAAE,KAAAC,OAAA,GACAmB,EAAAlB,QAAA,UACAkB,IAAAC,UAAA,EAAAD,EAAAlB,QAAA,OAGAkB,IAAA,IAAAE,EAAAC,MAAA3B,GACA4B,OAAA1B,SAAA2B,QAAAL,IAEA,SAAAM,EAAAC,GAAsBC,MAAAD","file":"js/code-a8c035.bundle.js","sourcesContent":["import {httpGet, httpPost} from '../common/js/http.js';\n\n\n\nfunction getQueryString() {  \n    var queryStr = location.search;\n\tif(!queryStr){\n\t   queryStr = location.hash;\n\t   queryStr = queryStr.substr(queryStr.indexOf(\"?\"));\n\t}\n    var qs = queryStr.substr(1), //\n    args = {}, //\n    items = qs.length ? qs.split(\"&\") : [], //\n    item = null,\n    len = items.length;\n \n    for(var i = 0; i < len; i++) {\n\t\titem = items[i].split(\"=\");\n\t\tvar name = decodeURIComponent(item[0]),\n\t\t  value = decodeURIComponent(item[1]);\n\t\tif(name) {\n\t\t  args[name] = value;\n\t\t}\n   }\n   return args;\n}\nvar qs = getQueryString();\n\nif(qs['code']){\n\thttpGet('/wechat/portal/oauth/accesstoken', \n\t\t\t{code: qs['code']}, \n\t\t\tfunction(response){\n\t\t\t\tsessionStorage.Authorization = response;\n\t\t\t\tdelete qs['code'];\n\t\t\t\tvar url = location.hash.substr(1)\n\t\t\t\tif(url.indexOf('?') >=0){\n\t\t\t\t   url = url.substring(0, url.indexOf('?'));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\turl = url + \"?\" + $.param(qs);\n\t\t\t\twindow.location.replace(url);\n\t\t\t}, \n\t\t\tfunction(xhr,type){alert(type)});\n}"],"sourceRoot":""}