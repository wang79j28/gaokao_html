{"version":3,"sources":["webpack:///./src/components/fillschoollist-component/fillschoollist.js"],"names":["window","doReady","fillId","Object","_common_js_http_js__WEBPACK_IMPORTED_MODULE_4__","a","c","response","body","sprintList","forEach","item","index","array","schoolListAppend","rationalList","endList","xhr","type","setTimeout","location","reload","response_item","$","html","replace","RegExp","schId","schName","thisClassName","last","after","on","e","schedId","coSchoolProSels","tpl","proName","selType","adjust"],"mappings":"qJAYAA,OAAAC,QAAA,WACA,IAEAC,EAFAC,OAAAC,EAAAC,EAAAF,GAEAD,OAGAC,OAAAC,EAAAE,EAAAH,CAAA,WAAAD,KAEA,SAAAK,GAGAA,EAAAC,OACAD,EAAAC,KAAAC,WAAAC,QAAA,SAAAC,EAAAC,EAAAC,GACAC,EAAAZ,EAAAS,KAEAJ,EAAAC,KAAAO,aAAAL,QAAA,SAAAC,EAAAC,EAAAC,GACAC,EAAAZ,EAAAS,KAEAJ,EAAAC,KAAAQ,QAAAN,QAAA,SAAAC,EAAAC,EAAAC,GACAC,EAAAZ,EAAAS,OAKA,SAAAM,EAAAC,GACAC,WAAA,WACAnB,OAAAoB,SAAAC,UACa,QAIb,IAAAT,EAAA,EAEA,SAAAE,EAAAZ,EAAAoB,GACA,IAAAX,EAAAY,EAAA,yBAAAC,OAEAb,GADAA,IAAAc,QAAA,IAAAC,OAAA,aAAAJ,EAAAK,QACAF,QAAA,IAAAC,OAAA,eAAAJ,EAAAM,SAEA,IAAAC,EAAA,gBAAAjB,IACAD,IAAAc,QAAA,IAAAC,OAAA,gBAAAG,GAEAN,EAAA,qBAAAO,OAAAC,MAAApB,GACAY,EAAA,IAAAD,EAAAK,OAAAK,GAAA,iBAAAC,GAEA,IAAAN,EAAAL,EAAAK,MACAC,EAAAN,EAAAM,QACAM,EAAAZ,EAAAY,QACAlC,OAAAoB,SAAAK,QAAA,oCAAAvB,EAAA,UAAAyB,EAAA,YAAAC,EAAA,YAAAM,KAGAZ,EAAAa,iBACAb,EAAAa,gBAAAzB,QAAA,SAAAC,EAAAC,EAAAC,GACA,IAAAuB,EAAAb,EAAA,+BAAAC,OACAY,IAAAX,QAAA,IAAAC,OAAA,eAAAf,EAAA0B,SAEA1B,EAAA2B,QACA3B,EAAA4B,OAEAhB,EAAA,IAAAM,GAAAC,OAAAC,MAAAK","file":"js/fillschoollist-31db50.bundle.js","sourcesContent":["\r\nimport 'weui';\r\nimport weui from 'weui.js';\r\nimport '../common/style/app.css';\r\n\r\n\r\nimport audioControl from '../common/js/audio.js';\r\nimport { httpPost, httpGet, getUrl, getQueryString } from '../common/js/http.js';\r\nimport '../common/js/oauth.js';\r\nimport '../common/js/tabbar.js';\r\n\r\n\r\nwindow.doReady = function () {\r\n    var qs = getQueryString();\r\n\r\n    var fillId = (qs['fillId']);\r\n    // var fillId = 'FR201805097';\r\n\r\n    httpGet('/school/' + fillId,\r\n        {},\r\n        function (response) {\r\n            // weui.alert(JSON.stringify(response));\r\n\r\n            if (response['body']) {\r\n                (response['body']['sprintList']).forEach(function (item, index, array) {\r\n                    schoolListAppend(fillId, item);\r\n                });\r\n                (response['body']['rationalList']).forEach(function (item, index, array) {\r\n                    schoolListAppend(fillId, item);\r\n                });\r\n                (response['body']['endList']).forEach(function (item, index, array) {\r\n                    schoolListAppend(fillId, item);\r\n                });\r\n            }\r\n\r\n        },\r\n        function (xhr, type) {\r\n            setTimeout(function () {\r\n                window.location.reload();\r\n            }, 5000);\r\n        });\r\n}\r\n\r\nvar index = 0;\r\n\r\nfunction schoolListAppend(fillId, response_item) {\r\n    var item = $('#school-item-template').html();\r\n    item = item.replace(new RegExp('#id', \"igm\"), response_item['schId']);\r\n    item = item.replace(new RegExp('#name', \"igm\"), response_item['schName']);\r\n\r\n    var thisClassName = 'fill-pro-list' + index++;\r\n    item = item.replace(new RegExp('#class', \"igm\"), thisClassName);\r\n\r\n    $('.fill-school-list').last().after(item);\r\n    $('#' + response_item['schId']).on('click', function (e) {\r\n        // weui.alert($(this).attr('id'));\r\n        var schId = response_item['schId'];\r\n        var schName = response_item['schName'];\r\n        var schedId = response_item['schedId'];\r\n        window.location.replace('fillprofessionallist.html?fillId=' + fillId + '&schId=' + schId + '&schName=' + schName + '&schedId=' + schedId);\r\n    });\r\n\r\n    if (response_item['coSchoolProSels']) {\r\n        response_item['coSchoolProSels'].forEach(function (item, index, array) {\r\n            var tpl = $('#professional-item-template').html();\r\n            tpl = tpl.replace(new RegExp('#name', \"igm\"), item['proName']);\r\n\r\n            var selType = item['selType'];\r\n            var adjust = item['adjust'];\r\n\r\n            $('.' + thisClassName).last().after(tpl);\r\n        });\r\n    }\r\n}\r\n\r\n\r\n"],"sourceRoot":""}