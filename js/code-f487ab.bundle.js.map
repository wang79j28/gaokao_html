{"version":3,"sources":["webpack:///./src/components/code-component/code.js"],"names":["qs","Object","_common_js_http_js__WEBPACK_IMPORTED_MODULE_0__","a","code","c","response","sessionStorage","Authorization","url","location","hash","substr","indexOf","substring","search","replace","RegExp","$","param","window","xhr","errorType","error","status","responseText","b"],"mappings":"uHAGAA,EAAAC,OAAAC,EAAAC,EAAAF,GAEAD,EAAAI,MACAH,OAAAC,EAAAG,EAAAJ,CAAA,oCACGG,KAAAJ,EAAAI,MACH,SAAAE,GACAC,eAAAC,cAAAF,SACAN,EAAAI,KACA,IAAAK,EAAAC,SAAAC,KAAAC,OAAA,GACAH,EAAAI,QAAA,UACAJ,IAAAK,UAAA,EAAAL,EAAAI,QAAA,OAGAJ,EAAAM,OAAA,iBACAN,IAAAO,QAAA,IAAAC,OAAA,iCAGAR,IAAA,IAAAS,EAAAC,MAAAnB,GACAoB,OAAAV,SAAAM,QAAAP,IAEA,SAAAY,EAAAC,EAAAC,GACA,QAAAF,EAAAG,OAAA,CAEAjB,eAAAC,cAAAa,EAAAI,aAEA,IAAAhB,EAAAR,OAAAC,EAAAwB,EAAAzB,CAAA,eACAmB,OAAAV,SAAAM,QAAAP","file":"js/code-f487ab.bundle.js","sourcesContent":["import { httpGet, httpPost, getUrl, getQueryString } from '../common/js/http.js';\r\n\r\n\r\nvar qs = getQueryString();\r\n\r\nif (qs['code']) {\r\n\thttpGet('/wechat/portal/oauth/accesstoken',\r\n\t\t{ code: qs['code'] },\r\n\t\tfunction (response) {\r\n\t\t\tsessionStorage.Authorization = response;\r\n\t\t\tdelete qs['code'];\r\n\t\t\tvar url = location.hash.substr(1)\r\n\t\t\tif (url.indexOf('?') >= 0) {\r\n\t\t\t\turl = url.substring(0, url.indexOf('?'));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(url.search(/index.html/i)){\r\n\t\t\t\turl = url.replace(new RegExp('index.html',\"igm\"), 'pay.html');\r\n\t\t\t}\r\n\r\n\t\t\turl = url + \"?\" + $.param(qs);\r\n\t\t\twindow.location.replace(url);\r\n\t\t},\r\n\t\tfunction (xhr, errorType, error) {\r\n\t\t\tif (xhr.status == 401) {\r\n\t\t\t\t//alert(\"status:\" + xhr.status + \", responseText:\" + xhr.responseText);\r\n\t\t\t\tsessionStorage.Authorization = xhr.responseText;\r\n\t\t\t\t\r\n\t\t\t\tvar url = getUrl(\"/index.html\");\r\n\t\t\t\twindow.location.replace(url);\r\n\t\t\t}\r\n\t\t});\r\n}"],"sourceRoot":""}