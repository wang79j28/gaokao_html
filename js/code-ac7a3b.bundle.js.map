{"version":3,"sources":["webpack:///./src/components/code-component/code.js"],"names":["qs","queryStr","location","search","hash","substr","indexOf","args","items","length","split","item","len","i","name","decodeURIComponent","value","code","Object","_common_js_http_js__WEBPACK_IMPORTED_MODULE_0__","a","response","sessionStorage","Authorization","url","substring","$","param","window","replace","xhr","type","alert"],"mappings":"uHA0BAA,EAtBA,WACA,IAAAC,EAAAC,SAAAC,OACAF,IAEAA,GADAA,EAAAC,SAAAE,MACAC,OAAAJ,EAAAK,QAAA,OAQA,IANA,IAAAN,EAAAC,EAAAI,OAAA,GACAE,KACAC,EAAAR,EAAAS,OAAAT,EAAAU,MAAA,QACAC,EAAA,KACAC,EAAAJ,EAAAC,OAEAI,EAAA,EAAkBA,EAAAD,EAASC,IAAA,CAC3BF,EAAAH,EAAAK,GAAAH,MAAA,KACA,IAAAI,EAAAC,mBAAAJ,EAAA,IACAK,EAAAD,mBAAAJ,EAAA,IACAG,IACAP,EAAAO,GAAAE,GAGA,OAAAT,EApBA,GAwBAP,EAAAiB,MACAC,OAAAC,EAAAC,EAAAF,CAAA,oCACID,KAAAjB,EAAAiB,MACJ,SAAAI,GACAC,eAAAC,cAAAF,SACArB,EAAAiB,KACA,IAAAO,EAAAtB,SAAAE,KAAAC,OAAA,GACAmB,EAAAlB,QAAA,UACAkB,IAAAC,UAAA,EAAAD,EAAAlB,QAAA,OAGAkB,IAAA,IAAAE,EAAAC,MAAA3B,GACA4B,OAAA1B,SAAA2B,QAAAL,IAEA,SAAAM,EAAAC,GAAsBC,MAAAD","file":"js/code-ac7a3b.bundle.js","sourcesContent":["import {httpGet, httpPost} from '../common/js/http.js';\r\n\r\n\r\n\r\nfunction getQueryString() {  \r\n    var queryStr = location.search;\r\n\tif(!queryStr){\r\n\t   queryStr = location.hash;\r\n\t   queryStr = queryStr.substr(queryStr.indexOf(\"?\"));\r\n\t}\r\n    var qs = queryStr.substr(1), //\r\n    args = {}, //\r\n    items = qs.length ? qs.split(\"&\") : [], //\r\n    item = null,\r\n    len = items.length;\r\n \r\n    for(var i = 0; i < len; i++) {\r\n\t\titem = items[i].split(\"=\");\r\n\t\tvar name = decodeURIComponent(item[0]),\r\n\t\t  value = decodeURIComponent(item[1]);\r\n\t\tif(name) {\r\n\t\t  args[name] = value;\r\n\t\t}\r\n   }\r\n   return args;\r\n}\r\nvar qs = getQueryString();\r\n\r\nif(qs['code']){\r\n\thttpGet('/wechat/portal/oauth/accesstoken', \r\n\t\t\t{code: qs['code']}, \r\n\t\t\tfunction(response){\r\n\t\t\t\tsessionStorage.Authorization = response;\r\n\t\t\t\tdelete qs['code'];\r\n\t\t\t\tvar url = location.hash.substr(1)\r\n\t\t\t\tif(url.indexOf('?') >=0){\r\n\t\t\t\t   url = url.substring(0, url.indexOf('?'));\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\turl = url + \"?\" + $.param(qs);\r\n\t\t\t\twindow.location.replace(url);\r\n\t\t\t}, \r\n\t\t\tfunction(xhr,type){alert(type)});\r\n}"],"sourceRoot":""}