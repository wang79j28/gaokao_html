{"version":3,"sources":["webpack:///./src/components/common/js/audio.js","webpack:///./src/components/common/images/laba.png","webpack:///./src/components/common/images/laba.gif","webpack:///./src/components/common/js/oauth.js","webpack:///./src/components/register-component/register.js"],"names":["interval_id","audioControl","audio","img","imgplay","imgpaused","paused","src","play","window","clearInterval","setInterval","pause","__webpack_require__","d","__webpack_exports__","module","exports","p","o","n","t","navigator","userAgent","toLowerCase","match","$","attr","sessionStorage","Authorization","removeAttr","pathStr","location","pathname","substring","lastIndexOf","Object","_http_js__WEBPACK_IMPORTED_MODULE_0__","a","url","protocol","host","search","response","replace","xhr","type","getUrlNumber","GetOauthUrlNumber","parseInt","stop","document","execCommand","reload","console","log","call","this","r","e","i","c","s","u","on","_common_js_audio_js__WEBPACK_IMPORTED_MODULE_5__","_common_images_laba_gif__WEBPACK_IMPORTED_MODULE_3___default","_common_images_laba_png__WEBPACK_IMPORTED_MODULE_4___default","weui_js__WEBPACK_IMPORTED_MODULE_2___default","form","validate","error","loading","userName","val","userSchool","userObject","phone","userAddr","userType","_common_js_http_js__WEBPACK_IMPORTED_MODULE_6__","b","JSON","stringify","alert","body","userId","checkIfBlur"],"mappings":"2FAIA,IAAAA,EASA,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GACA,OAAAH,IACAA,EAAAI,QACAH,EAAAI,IAAAH,EACAF,EAAAM,OACA,MAAAR,IACAS,OAAAC,cAAAV,GACAA,EAAA,MAEAA,EAAAS,OAAAE,YAAA,YAjBA,SAAAT,EAAAC,EAAAE,GACA,OAAAH,GACAA,EAAAI,SACAH,EAAAI,IAAAF,GAHA,CAiBgDH,EAAAC,EAAAE,IAAoC,MAEpFF,EAAAI,IAAAF,EACAH,EAAAU,UAzBAC,EAAAC,EAAAC,EAAA,sBAAAd,qBCAAe,EAAAC,QAAAJ,EAAAK,EAAA,qCAAAC,EAAAC,EAAAC,GCAAL,EAAAC,QAAAJ,EAAAK,EAAA,wCAAAC,EAAAC,EAAAC,GAAA,uBAAAF,GAAA,IAAAC,EAAAC,EAAA,GCsCA,kBADAZ,OAAAa,UAAAC,UAAAC,cACAC,MAAA,oBACAC,EAAA,QAAAC,KAAA,yBArCA,WAEA,GADAC,eAAAC,cA6BAH,EAAA,QAAAI,WAAA,aA5BA,CACA,IAAAC,EAAAC,SAAAC,SACAF,IAAAG,UAAA,EAAAH,EAAAI,YAAA,MACAC,OAAAC,EAAAC,EAAAF,CAAA,4BACIG,IAAAP,SAAAQ,SAAA,KAAAR,SAAAS,KAAAV,EAAA,cAAAC,SAAAC,SAAAD,SAAAU,QACJ,SAAAC,GACAlC,OAAAuB,SAAAY,QAAAD,IAEA,SAAAE,EAAAC,GACA,IAAAC,EAAAnB,eAAAoB,mBAEAD,EADAA,EACAE,SAAAF,GAAA,EAGA,GAGA,EACAtC,OAAAyC,KAAAzC,OAAAyC,OAAAC,SAAAC,YAAA,SAGAxB,eAAAoB,kBAAAD,EACAtC,OAAAuB,SAAAqB,aAxBA,KAwCAC,QAAAC,IAAA,eACA9C,OAAAyC,KAAAzC,OAAAyC,OAAAC,SAAAC,YAAA,WAAAI,KAAAC,KAAApC,EAAA,eAAAF,EAAAC,KAAA,WAAAD,EAAAC,EAAAC,GAAA,aAAAA,EAAAqC,EAAAtC,GAAA,SAAAD,GAAAE,EAAA,IAAAA,EAAA,QAAAD,EAAAC,EAAA,GAAAsC,EAAAtC,EAAAD,KAAAkB,EAAAjB,EAAA,GAAAuC,EAAAvC,EAAAD,EAAAkB,GAAAoB,EAAArC,EAAA,GAAAwC,EAAAxC,EAAAD,EAAAsC,GAAAI,EAAAzC,EAAA,GAAA0C,EAAA1C,EAAA,GAAAA,EAAA,IC9BAK,EAAA,WAQAA,EAAA,cAAAsC,GAAA,iBAAAL,GAEAvB,OAAA6B,EAAA3B,EAAAF,CAAAV,EAAA,YAAA+B,KAAAS,EAAA5B,EAAA6B,EAAA7B,KAGAZ,EAAA,kBAAAsC,GAAA,iBAAAL,GAEAS,EAAA9B,EAAA+B,KAAAC,SAAA,qBAAAC,GACA,IAAAA,EAAA,CACAH,EAAA9B,EAAAkC,QAAA,cACAC,EAAA/C,EAAA,aAAAgD,MACAC,EAAAjD,EAAA,eAAAgD,MAGAE,GACAH,WACAI,MAJAnD,EAAA,cAAAgD,MAKAI,SAAAH,EACAI,SAAA,KAEA3C,OAAA4C,EAAAC,EAAA7C,CAAA,QACA8C,KAAAC,UAAAP,GACA,SAAAjC,GACAyC,MAAAzC,EAAA0C,KAAAC,eAQAlB,EAAA9B,EAAA+B,KAAAkB,YAAA,gBAAA/B,KAAAC,KAAApC,EAAA","file":"js/register-b2cf16.bundle.js","sourcesContent":["function audioRepeat(audio){\r\n\taudio.currentTime = 0;// replay\r\n}\r\n\r\nvar interval_id;\r\nfunction checkAudioStop(audio, img, imgpaused){\r\n\tif(audio!==null){\r\n\t\tif(audio.paused){\r\n\t\t\timg.src=imgpaused;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default function audioControl(audio, img, imgplay, imgpaused){\r\n\tif(audio!==null){ \r\n\t\tif(audio.paused){\r\n\t\t\timg.src=imgplay;\r\n\t\t\taudio.play();// play\r\n\t\t\tif(interval_id != null){\r\n\t\t\t\twindow.clearInterval(interval_id);\r\n\t\t\t\tinterval_id = null;\r\n\t\t\t}\r\n\t\t\tinterval_id = window.setInterval(function() {checkAudioStop(audio,img,imgpaused)},10);\r\n\t\t}else{\r\n\t\t\timg.src=imgpaused;\r\n\t\t\taudio.pause();// pause\r\n\t\t}\r\n\t} \r\n}\r\n/*audio_html_str = '<audio src=\"#file\" preload id=\"music\" hidden></audio>';\r\nfunction audio_js(file){\r\n\taudio_str = audio_html_str.replace(new RegExp('#file',\"igm\"), file);\r\n\tdocument.write(audio_str);\r\n}*/","module.exports = __webpack_public_path__ + \"images/laba-a4be88ca.png\";","module.exports = __webpack_public_path__ + \"images/laba-da365adb.gif\";","import {httpGet, httpPost} from './http.js';\r\n\r\nfunction oauth(){\r\n\tvar auth = sessionStorage.Authorization;\r\n\tif(!auth){\r\n\t\tvar pathStr = location.pathname;\r\n\t\tpathStr = pathStr.substring(0, pathStr.lastIndexOf(\"/\"));\r\n\t\thttpGet('/wechat/portal/oauth/url', \r\n\t\t\t{url: location.protocol+\"//\"+location.host+pathStr+\"/code.html#\"+location.pathname+location.search}, \r\n\t\t\tfunction(response){\r\n\t\t\t\twindow.location.replace(response);\r\n\t\t\t}, \r\n\t\t\tfunction(xhr,type){\r\n\t\t\t\tvar getUrlNumber = sessionStorage.GetOauthUrlNumber;\r\n\t\t\t\tif(getUrlNumber){\r\n\t\t\t\t\tgetUrlNumber = parseInt(getUrlNumber) + 1;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tgetUrlNumber = 1;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(getUrlNumber > 3){\r\n\t\t\t\t\twindow.stop ? window.stop() : document.execCommand(\"Stop\");\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tsessionStorage.GetOauthUrlNumber = getUrlNumber;\r\n\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n   else{\r\n\t   // normal\r\n\t   $('body').removeAttr('style');  \r\n   }\t\r\n//}\r\n}   \r\n\r\nvar ua = window.navigator.userAgent.toLowerCase(); \r\nif (ua.match(/MicroMessenger/i) == 'micromessenger') { \r\n\t$('body').attr('style', 'display: none');\r\n\toauth();\r\n} else { \r\n  console.log('Not Weixin!');\r\n  window.stop ? window.stop() : document.execCommand(\"Stop\");\r\n} \r\n\r\n\r\n","import '../common/style/app.css';\r\nimport 'weui';\r\nimport weui from 'weui.js';\r\n\r\nimport LabaGif from '../common/images/laba.gif';\r\nimport LabaPng from '../common/images/laba.png';\r\nimport audioControl from '../common/js/audio.js';\r\nimport { httpPost } from '../common/js/http.js';\r\nimport '../common/js/oauth.js';\r\n\r\n\r\n// oauthCheck();\r\n\r\n$(function () {\r\n\t// if (process.env.NODE_ENV !== 'production') {\r\n\t// console.log('Looks like we are in development mode!');\r\n\t// }\r\n\t// else{\r\n\t// alert('production !') \r\n\t// }\t\r\n\r\n\t$('#audio_img').on('click', function (e) {\r\n\t\t// audioControl(audio, img, imgplay, imgpaused)\r\n\t\taudioControl($('audio')[0], this, LabaGif, LabaPng);\r\n\t});\r\n\r\n\t$('#formSubmitBtn').on('click', function (e) {\r\n\t\t//\r\n\t\tweui.form.validate('#reg_form', function (error) {\r\n\t\t\tif (!error) {\r\n\t\t\t\tvar loading = weui.loading('提交中...');\r\n\t\t\t\tvar userName = $('#userName').val();\r\n\t\t\t\tvar userSchool = $('#userSchool').val();\r\n\t\t\t\tvar userPhone = $('#userPhone').val();\r\n\r\n\t\t\t\tvar userObject = {\r\n\t\t\t\t\t'userName': userName,\r\n\t\t\t\t\t'phone': userPhone,\r\n\t\t\t\t\t'userAddr': userSchool,\r\n\t\t\t\t\t'userType': '3'\r\n\t\t\t\t};\r\n\t\t\t\thttpPost('/user',\r\n\t\t\t\t\tJSON.stringify(userObject),\r\n\t\t\t\t\tfunction (response) {\r\n\t\t\t\t\t\talert(response.body.userId);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t});\r\n\r\n\tweui.form.checkIfBlur('#reg_form');\r\n})"],"sourceRoot":""}